<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouTube Channel Subscriber Counts</title>
</head>
<body>
  <h1>YouTube Channel Subscriber Counts</h1>
  <ol id="subscriberCounts"></ol> <!-- リスト表示のための <ol> 要素 -->


  <script>
    // ここにJavaScriptコードを挿入
    // APIキー
    const API_KEY = 'AIzaSyDMInz0zVI_FuweiSmU92i2YeiIc_u7GzY';

// チャンネルIDと名前のマッピング
const channelNames = {
  'UCRZWzEm_YtlgPxaT4_28NIg': 'Channel Name 1',
  'UCroy52JFxta2RNMgVqk87NQ': 'Channel Name 2'
};

// チャンネルごとの登録者数を格納するオブジェクト
const subscriberCounts = {};

// YouTube Data APIを使用してチャンネルの登録者数を取得する関数
async function getSubscriberCount(channelId) {
  const url = `https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${channelId}&key=${API_KEY}`;
  const response = await fetch(url);
  const data = await response.json();
  return parseInt(data.items[0].statistics.subscriberCount);
}

// チャンネルごとの登録者数を取得し、オブジェクトに格納する関数
async function fetchSubscriberCounts() {
  for (let channelId in channelNames) {
    const count = await getSubscriberCount(channelId);
    subscriberCounts[channelId] = count;
  }
}

// チャンネル登録者数で降順にソートする関数
function sortSubscriberCounts() {
  // ソートしたチャンネルIDの配列を取得
  const sortedChannelIds = Object.keys(subscriberCounts).sort((a, b) => {
    return subscriberCounts[b] - subscriberCounts[a];
  });
  return sortedChannelIds;
}

// ランキングを表示する関数
function displaySubscriberCounts() {
  const subscriberCountsElement = document.getElementById('subscriberCounts');
  // チャンネル登録者数でソート
  const sortedChannelIds = sortSubscriberCounts();
  // ソートされたチャンネルIDごとに表示
  sortedChannelIds.forEach(channelId => {
    const p = document.createElement('p');
    const channelName = channelNames[channelId];
    p.textContent = `${channelName}: ${subscriberCounts[channelId]} subscribers`;
    subscriberCountsElement.appendChild(p);
  });
}

// メイン処理
async function main() {
  await fetchSubscriberCounts();
  displaySubscriberCounts();
}

// メイン処理の実行
main();
  </script>
</body>
</html>
